# Chapter 4. Agent & Context Engineering

이 장은 본 강의 전체에서 가장 중요한 장이다.

AI를 단순한 코드 자동완성 도구로 사용할 것인지,
아니면 **실제로 일을 맡길 수 있는 존재(Agent)** 로 사용할 것인지는
이 장에서 다루는 개념을 이해했는지에 달려 있다.

핵심은 두 가지이다.

- Agent란 무엇인가
- Context를 어떻게 설계해야 하는가

---

## 4.1 Code Assistant vs Agent

많은 개발자가 아직도 AI를
“똑똑한 자동완성 도구” 정도로 인식한다.
이는 **Code Assistant 관점**이다.

하지만 Agent는 이와 근본적으로 다르다.

---

### 4.1.1 Code Assistant의 특징

Code Assistant는 다음과 같은 역할을 수행한다.

- 현재 파일 또는 커서 주변 코드 참고
- 단일 함수 또는 짧은 코드 생성
- 개발자의 입력에 즉각 반응

특징을 정리하면 다음과 같다.

- **반응형(reactive)**
- 짧은 컨텍스트
- 계획 능력 없음
- 스스로 작업을 확장하지 않음

👉 즉, Code Assistant는  
**“지금 당장 도와주는 도구”** 이다.

---

### 4.1.2 Agent의 특징

Agent는 Code Assistant와 다르게 행동한다.

- 목표를 이해한다
- 작업을 여러 단계로 나눈다
- 파일을 탐색한다
- 실행 → 검증 → 수정 루프를 반복한다

즉, Agent는:

- **목표 지향적(goal-oriented)**
- 장기 컨텍스트 유지
- 스스로 계획을 수립
- 작업 단위(Task)를 수행

👉 Agent는  
**“일을 맡길 수 있는 주체”** 이다.

---

### 4.1.3 역할 차이 요약

| 구분 | Code Assistant | Agent |
|----|---------------|-------|
| 반응 방식 | 즉각 반응 | 목표 기반 행동 |
| 컨텍스트 | 짧음 | 길고 구조적 |
| 작업 범위 | 함수/라인 | 기능/작업 단위 |
| 계획 | 없음 | 있음 |
| 책임 | 보조 | 실행 |

이 차이를 이해하지 못하면,
AI에게 일을 맡길 수 없다.

---

## 4.2 Context 정의

Agent가 제대로 작동하기 위해서는
**좋은 Context**가 반드시 필요하다.

Context는 단순히 “많은 정보”가 아니라,
**구조화된 정보**이다.

본 강의에서는 Context를
다음 세 가지 요소로 정의한다.

> **Goal / Knowledge / Constraint**

---

### 4.2.1 Goal (목표)

Goal은 Agent가
“무엇을 해야 하는지”를 명확히 정의한다.

- 기능 구현
- 리팩토링
- 버그 수정
- 문서 생성

좋은 Goal의 조건:
- 구체적이다
- 완료 조건이 명확하다
- 범위가 통제 가능하다

❌ 나쁜 예:
- “코드 좀 개선해줘”

✅ 좋은 예:
- “회원 가입 API에서 중복 이메일 검증 로직 추가”

---

### 4.2.2 Knowledge (지식)

Knowledge는 Agent가 참고해야 할 정보이다.

- 프로젝트 코드
- 도메인 규칙
- 아키텍처 문서
- 기존 스타일 가이드

Knowledge가 부족하면:
- 엉뚱한 코드 생성
- 레거시 구조 무시
- 일관성 붕괴

👉 Agent는 **모르는 것을 추론하지 못한다.**
반드시 제공해야 한다.

---

### 4.2.3 Constraint (제약)

Constraint는
“하지 말아야 할 것”과 “지켜야 할 것”이다.

- 사용 금지 라이브러리
- 성능 요구사항
- 보안 정책
- 코드 스타일 규칙

Constraint가 명확할수록:
- 결과물의 품질이 올라간다
- 리스크가 줄어든다

👉 Constraint 없는 자유는
AI에게 독이다.

---

## 4.3 AI 온보딩 4단계

Agent를 프로젝트에 투입하는 것은
신입 개발자를 팀에 합류시키는 것과 같다.

본 강의에서는 이를
**AI 온보딩 4단계**로 설명한다.

> **Select / Isolate / Write / Compress**

---

### 4.3.1 Select: 무엇을 맡길 것인가

첫 단계는 작업 선택이다.

- 반복 작업
- 명확한 규칙이 있는 작업
- 실패 비용이 낮은 작업

처음부터 핵심 로직을 맡기지 않는다.

👉 AI에게도 “연습 문제”가 필요하다.

---

### 4.3.2 Isolate: 범위를 격리하라

작업 범위를 명확히 제한한다.

- 파일 범위
- 디렉토리 범위
- 영향 영역 명시

Isolate가 되지 않으면:
- 불필요한 파일 수정
- 예측 불가능한 변경 발생

👉 **격리는 안전장치**다.

---

### 4.3.3 Write: 명확히 지시하라

Agent에게는
- 기대 결과
- 제약 조건
- 참고 자료
를 명확히 전달해야 한다.

프롬프트가 아니라,
**업무 지시서**라고 생각해야 한다.

---

### 4.3.4 Compress: 맥락을 정리하라

작업이 끝난 뒤에는
Context를 정리해야 한다.

- 불필요한 대화 제거
- 핵심 규칙 요약
- 다음 작업을 위한 지식 압축

Compress를 하지 않으면:
- 컨텍스트가 비대해짐
- 성능 저하
- 혼선 발생

👉 좋은 Agent 운용의 마지막 단계이다.

---

## 4.4 Chapter 4 정리

- Agent는 Code Assistant와 근본적으로 다르다
- Agent는 일을 맡길 수 있는 실행자이다
- Context는 Goal / Knowledge / Constraint로 구성된다
- AI 온보딩은 Select → Isolate → Write → Compress 순서로 진행된다
- 이 구조가 Cursor 활용의 기반이 된다

---

➡ 다음 장에서는  
**「개발에 활용 가능한 AI 도구」**를 살펴보며  
Cursor, Claude, MCP가 어떻게 연결되는지 살펴본다.
